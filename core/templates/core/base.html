{% load static %}
<!doctype html>
<html lang="en" class="h-full">
    <head>
        <meta charset="UTF--8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Bibliotype - Your Literary Personality</title>
        <link rel="preconnect" href="https://fonts.googleapis.com" />
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
        <link href="https://fonts.googleapis.com/css2?family=VT323&display=swap" rel="stylesheet" />
        <link href="{% static 'dist/output.css' %}" rel="stylesheet" />
        <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
        <script defer src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js"></script>
    </head>
    <body class="bg-brand-background text-brand-text grid-background flex h-full flex-col font-sans antialiased">
        <nav class="p-4">
            <div class="container mx-auto flex items-center justify-between">
                <a
                    href="{% url 'core:home' %}"
                    class="text-brand-text text-2xl font-bold tracking-widest uppercase md:text-3xl"
                >
                    ðŸ§¬<span class="border-brand-text border-b-2 lg:px-1">Bibliotype</span>
                </a>
                <div class="flex items-center space-x-2 text-base font-bold uppercase md:space-x-4 md:text-lg">
                    {% if user.is_authenticated %}
                        {% url 'core:display_dna' as display_dna_url %}
                        {% url 'core:logout' as logout_url %}
                        {% if display_dna_url %}
                            {% include 'core/partials/buttons/nav_button.html' with href=display_dna_url text="Dashboard" hover_color="pink" %}
                        {% endif %}
                        {% if logout_url %}
                            {% include 'core/partials/buttons/nav_button.html' with href=logout_url text="Logout" hover_color="cyan" %}
                        {% endif %}
                    {% else %}
                        {% url 'core:login' as login_url %}
                        {% url 'core:signup' as signup_url %}
                        {% if login_url %}
                            {% include 'core/partials/buttons/nav_button.html' with href=login_url text="Login" hover_color="yellow" %}
                        {% endif %}
                        {% if signup_url %}
                            {% include 'core/partials/buttons/nav_button.html' with href=signup_url text="Sign Up" is_signup=True %}
                        {% endif %}
                    {% endif %}
                </div>
            </div>
        </nav>
        <main class="container mx-auto flex-grow p-2 md:p-6">
            {% if messages %}
                {% for message in messages %}
                    <div
                        x-data="{ show: true }"
                        x-init="setTimeout(() => show = false, 8000)"
                        x-show="show"
                        class="border-brand-text shadow-neo {% if message.tags == 'error' %}
                            bg-red-500 text-white
                        {% elif message.tags == 'success' %}
                            bg-brand-green text-brand-text
                        {% else %}
                            bg-brand-cyan text-brand-text
                        {% endif %} relative mb-6 border-2 p-4 text-lg font-bold"
                        role="alert"
                    >
                        <span>{{ message|safe }}</span>
                        {% include 'core/partials/buttons/close_button.html' with extra_classes="absolute top-2 right-3 cursor-pointer" extra_attrs='@click="show = false"' %}
                    </div>
                {% endfor %}
            {% endif %}
            {% block content %}
            {% endblock %}
        </main>
    </body>
</html>
